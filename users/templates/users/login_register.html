{% extends 'base.html' %}

{% block content %}

{% if page == 'register' %}

<!-- {% comment %} -->
<!-- <form method="POST" action="{% url 'register' %}"> -->
<!-- {% csrf_token %} -->
<!-- {{ form.as_p }}              -->
<!-- <input type="submit" value="register"></input> -->
<!-- <p>Already have an account <a href="{% url 'login' %}">login</a></p> -->
<!---->
<!-- </form>  -->
<!---->
<!-- {% endcomment %}} -->

<div class="auth">
  <div class="card">
    <div class="auth__header text-center">
      <a href="/">
        {% load static %}
        <img src="{% static 'images/icon.svg' %}" alt="icon" />
      </a>
      <h3>Account SignUp</h3>
      <p>Create a new developer account</p>
    </div>

    <form method='POST' action="{% url 'register' %}" class="form auth__form">
      {% csrf_token %}
      <!-- Input:Text -->
      <!-- the form is class and the field is object and fiel.lable and field.field are attributes of the class from. -->
      {% for field in form %}
      <div class="form__field">
        <label for="formInput#text">{{ field.label }}</label>
        {{ field }}

        {% comment %}

        {% if field.help_text %}
        {{ field.help_text}}
        {% endif %}
        {% endcomment %}

        {% for error in field.errors %}
        <small style="color: red;">{{ error }}</small>
        {% endfor %}

      </div>
      {% endfor %}

      <div class="auth__actions">
        <input class="btn btn--sub btn--lg" type="submit" value="Sign  In" />

      </div>
    </form>
    <div class="auth__alternative">
      <p>Already have an Account?</p>
      <a href="{% url 'login' %}">Log In</a>
    </div>
    </form>
  </div>
</div>

{% else %}

{% comment %} <form action="{% url 'login' %}" method="POST">

  {% csrf_token %}
  <label for="username">Username: </label>
  <input type="text" name="username" id="username" /><br>
  <label for="password">password: </label>
  <input type="password" name="password" id="password" /><br>

  <input type="submit" value="login" />
  <p>Create new account <a href="{% url 'register' %}">signUP</a></p>

</form> {% endcomment %}


<div class="auth">
  <div class="card">
    <div class="auth__header text-center">
      <a href="/">
        {% load static %}
        <img src="{% static 'images/icon.svg' %}" alt="icon" />
      </a>
      <h3>Account Login</h3>
      <p>Hello Developer, Welcome Back!</p>
    </div>

    <form method='POST' action="" class="form auth__form">
      {% csrf_token %}
      <!-- Input:Email -->
      <div class="form__field">
        <label for="formInput#text">Username: </label>
        <input class="input input--text" id="formInput#text" type="text" name="username"
          placeholder="Enter your username..." />
      </div>

      <!-- Input:Password -->
      <div class="form__field">
        <label for="formInput#password">Password: </label>
        <input class="input input--password" id="formInput#passowrd" type="password" name="password"
          placeholder="••••••••" />
      </div>
      <div class="auth__actions">
        <input class="btn btn--sub btn--lg" type="submit" value="Log In" />
        <a href="{% url 'reset_password' %}">Forget Password?</a>
      </div>
    </form>
    <div class="auth__alternative">
      <p>Don’t have an Account?</p>
      <a href="{% url 'register' %}">Sign Up</a>
    </div>
    </form>
  </div>
</div>
{% endif %}

{% endblock content %}
